[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Invoice",
  "enabled": 1,
  "modified": "2025-10-17 15:27:12.199080",
  "module": "Tracker",
  "name": "set-mode-of-payment",
  "script": "frappe.ui.form.on('Purchase Invoice', {\n\tsupplier: function(frm) {\n\t    if(frm.doc.supplier) {\n\t        frappe.db.get_value(\"Supplier\", frm.doc.supplier, \"custom_default_mode_of_payment\", (r) => {\n\t            console.log(r.custom_default_mode_of_payment)\n\t            let mode = \"Cash\"\n\t            if (r && r.custom_default_mode_of_payment) {\n\t                mode = r.custom_default_mode_of_payment;\n\t            }\n\t            frm.set_value(\"mode_of_payment\", mode);\n\t            frappe.show_alert({\n\t                message: `Payment Mode set to <b>${mode}</b>`,\n\t                indicator: 'green'\n\t            }, 3); // 3 seconds\n\t        });\n\t    }\n\t}\n})\n",
  "view": "Form"
 }
]